<div class="homepage-container" *ngIf="!isLoading && homepage">
  <header class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">{{ homepage.title }}</h1>
      <p class="hero-subtitle">{{ homepage.subtitle }}</p>
      <div class="hero-description" *ngIf="homepage.heroContent">
        {{ homepage.heroContent }}
      </div>
      <div class="hero-actions">
        <a [routerLink]="getPageRoute(homepage.quickAccessCards[0].pageId || 'Core Mechanics')" 
           class="btn btn-primary btn-lg" 
           *ngIf="homepage.quickAccessCards && homepage.quickAccessCards.length > 0">
          <i class="bi bi-rocket-takeoff me-2"></i>Get Started
        </a>
        <button class="btn btn-outline-light btn-lg" (click)="scrollToQuickLinks()">
          <i class="bi bi-compass me-2"></i>Explore
        </button>
      </div>
    </div>
  </header>

  <main class="main-content">
    <section class="quick-access" id="quickLinks" *ngIf="homepage.quickAccessCards.length > 0">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Explore the Game</h2>
          <p class="section-subtitle">Jump into any area of the design documentation</p>
        </div>
        <div class="quick-links-grid">
          <a *ngFor="let card of homepage.quickAccessCards; trackBy: trackByPageId" 
             [routerLink]="getPageRoute(card.pageId)" 
             class="quick-link-card">
            <div class="card-header">
              <div class="card-icon">
                <i [class]="card.icon"></i>
              </div>
              <span class="badge" [class]="card.badgeColor">{{ card.badgeText }}</span>
            </div>
            <div class="card-content">
              <h3>{{ card.title }}</h3>
              <p>{{ card.description }}</p>
            </div>
            <div class="card-action">
              <span class="action-text">Explore <i class="bi bi-arrow-right ms-1"></i></span>
            </div>
          </a>
        </div>
      </div>
    </section>

    <section class="getting-started" *ngIf="homepage.gettingStarted.steps.length > 0">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">{{ homepage.gettingStarted.title }}</h2>
          <p class="section-subtitle">Follow this path to understand the game from the ground up</p>
        </div>
        <div class="steps-container">
          <div class="step-card" *ngFor="let step of homepage.gettingStarted.steps; trackBy: trackByStepNumber; let last = last">
            <div class="step-icon">
              <i [class]="step.icon"></i>
            </div>
            <div class="step-content">
              <h4>{{ step.title }}</h4>
              <p>{{ step.description }}</p>
              <a *ngIf="step.pageId" [routerLink]="getPageRoute(step.pageId)" class="btn btn-outline-primary">
                Start Learning <i class="bi bi-arrow-right ms-1"></i>
              </a>
            </div>
            <div class="step-connector" *ngIf="!last">
              <i class="bi bi-arrow-down"></i>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>

<div class="loading-container" *ngIf="isLoading">
  <div class="text-center p-5">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3">Loading homepage...</p>
  </div>
</div>

<div class="error-container" *ngIf="error && !isLoading">
  <div class="alert alert-danger text-center" role="alert">
    <h4 class="alert-heading">Error Loading Homepage</h4>
    <p>{{ error }}</p>
    <button class="btn btn-outline-danger" (click)="loadHomepage()">
      <i class="bi bi-arrow-clockwise me-2"></i>Retry
    </button>
  </div>
</div>
